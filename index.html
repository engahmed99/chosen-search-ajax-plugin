<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Chosen Search Ajax</title>       
        <link rel="stylesheet" href="css/bootstrap.min.css">
        <link rel="stylesheet" href="css/chosen.min.css">
    </head>
    <body>
        <div class="container" id="container">
            <div class="alert-info">
                <h1>Chosen Search Ajax</h1>
            </div>
            <div id="content">
                <p>Chosen Search Ajax is a plugin built on the top of <a href="https://harvesthq.github.io/chosen/" target="blanck">Chosen v1.8.7</a> plugin to add search by ajax in the select options.</p>
                <p>Please refer to <a href="https://harvesthq.github.io/chosen/" target="blanck">https://harvesthq.github.io/chosen/</a> for more information about chosen and it's options.</p>

                <br/>

                <h5 class="alert-warning">Try search for any country e.x. Chana, Canada, Brazil ... Type at least two characters</h5>
                <div class="form-group">
                    <label for="single-country-elem">Single Country: </label>
                    <select data-placeholder="Choose a Country..." class="form-control chosen-select" id="single-country-elem">
                        <option value=""></option>
                        <option value="Egypt" selected="">Egypt</option>
                    </select>
                </div>

                <br/>
                <br/>

                <div class="form-group">
                    <label for="multiple-country-elem">Multiple Countries: </label>
                    <select name="ss" data-placeholder="Choose a Country..." class="form-control chosen-select" id="multiple-country-elem" multiple>
                        <option value=""></option>
                        <option value="United States" selected="">United States</option>
                        <option value="United Kingdom" selected="">United Kingdom</option>
                    </select>
                </div>
            </div>

            <div>
                <div class="panel panel-danger">
                    <div class="panel-heading">
                        Usage
                    </div>
                    <div class="panel-body">
                        <h4>Import these files</h4>
                        <pre>
&lt;!-- CSS -->
&lt;link rel="stylesheet" href="css/chosen.min.css">

&lt;!-- JS -->
&lt;script src="js/jquery.min.js" type="text/javascript">&lt;/script>
&lt;script src="js/chosen.jquery.min.js" type="text/javascript">&lt;/script>
&lt;script src="js/chosen_ajax.js" type="text/javascript">&lt;/script>
                        </pre>
                        <br/>
                        <h4>To use it call chosen_ajax function and you can use any of <a href="https://harvesthq.github.io/chosen/options.html">chosen options</a>. But it is mandatory to set ajax_base_url which is the server url.</h4>
                        <pre>
$(".chosen-select").chosen_ajax({
    allow_single_deselect: true, // Normal chosen option
    // Ajax options
    ajax_base_url: "http://asamir.local/chosen-search-ajax-plugin/server.php",  // Mandatory
    ajax_method: "POST",                            // Default GET
    ajax_data: {type: 'A', extra: 123456789},       // To set extra data + {search & value fields}
    ajax_min_chars: 2                               // Minimum characters to send ajax request
});
                        </pre>
                        <br/>
                        <h4>After finishing the search e.x.</h4>
                        <pre>
select * from customers where countries like %{$_GET[search]}% or id = {$_GET[value]} 

Hint: I used  or id = %{$_GET[value]}  because you must return the selected row also.
                        </pre>
                        <h4>The server must return a JSON array as a response in this structure</h4>
                        <pre>
[
    [value, label],
    [value, label],
    [value, label],
]             
e.x.
[
    ['EG', 'Egypt'],
    ['US', 'United Stated'],
    ['UK', 'United Kingdom'],
]               
                        </pre>
                    </div>
                    <div class="panel-footer">

                    </div>

                </div>
            </div>
            <div style="text-align: center; padding: 5px; bottom: 0px; width: 100%" class="alert-success">
                <h5><a href="#">Ahmed Samir</a> | <a href="https://github.com/engahmed99/chosen-search-ajax-plugin">GitHub</a></h5>
            </div>
        </div>
        <script src="js/jquery-1.12.4.min.js" type="text/javascript"></script>
        <script src="js/chosen.jquery.min.js" type="text/javascript"></script>
        <script src="js/chosen_ajax.js" type="text/javascript"></script>
        <script>
            $(".chosen-select").chosen_ajax({
                allow_single_deselect: true, // Normal chosen option
                // Ajax options
                ajax_base_url: "http://asamir.local/chosen-search-ajax-plugin/server.php", // Mandatory
                ajax_method: "POST", // Default GET
                ajax_data: {type: 'A', extra: 123456789}, // To set extra data + {search & value fields}
                ajax_min_chars: 2   // Minimum characters to send ajax request
            });
        </script>
    </body>
</html>
